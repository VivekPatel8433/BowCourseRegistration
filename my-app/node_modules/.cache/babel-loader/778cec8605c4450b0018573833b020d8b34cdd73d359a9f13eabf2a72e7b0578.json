{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\BowCourseRegistration\\\\my-app\\\\src\\\\components\\\\Login-Signup-component\\\\Signup.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Signup.jsx\nimport React, { useMemo, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./Signup.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction strengthLabel(score) {\n  if (score >= 4) return \"Strong\";\n  if (score === 3) return \"Good\";\n  if (score === 2) return \"Weak\";\n  return \"Very weak\";\n}\nfunction strengthClass(score) {\n  if (score >= 4) return \"strong\";\n  if (score === 3) return \"good\";\n  if (score === 2) return \"weak\";\n  return \"very-weak\";\n}\nexport default function Signup({\n  onSignup\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [userType, setUserType] = useState(\"student\"); // \"student\" or \"admin\"\n\n  const [form, setForm] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    birthday: \"\",\n    department: \"SD\",\n    program: \"\",\n    username: \"\",\n    password: \"\",\n    confirm: \"\",\n    accept: false\n  });\n  const [showPwd, setShowPwd] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [error, setError] = useState(\"\");\n  const pwdScore = useMemo(() => {\n    let s = 0;\n    if (form.password.length >= 8) s++;\n    if (/[A-Z]/.test(form.password)) s++;\n    if (/[a-z]/.test(form.password)) s++;\n    if (/\\d/.test(form.password)) s++;\n    if (/[^A-Za-z0-9]/.test(form.password)) s++;\n    return s;\n  }, [form.password]);\n\n  // Program options based on SD department\n  const programOptions = [\"Software Development\", \"Web Development\", \"Mobile Development\", \"Data Science\", \"Cloud Computing\", \"Cyber Security\"];\n  function handleChange(e) {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: type === \"checkbox\" ? checked : value\n    }));\n  }\n  function handleUserTypeChange(type) {\n    setUserType(type);\n    // Reset form when switching between student and admin\n\n    setForm({\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      phone: \"\",\n      birthday: \"\",\n      department: \"SD\",\n      program: \"\",\n      username: \"\",\n      password: \"\",\n      confirm: \"\",\n      accept: false\n    });\n    setError(\"\");\n  }\n  function validate() {\n    if (!form.firstName.trim()) return \"Please enter your first name.\";\n    if (!form.lastName.trim()) return \"Please enter your last name.\";\n    if (!/^\\S+@\\S+\\.\\S+$/.test(form.email)) return \"Please enter a valid email.\";\n\n    // Phone validation only for students\n    if (userType === \"student\" && !/^\\d{10}$/.test(form.phone.replace(/\\D/g, ''))) {\n      return \"Please enter a valid 10-digit phone number.\";\n    }\n\n    // Birthday validation only for students\n    if (userType === \"student\" && !form.birthday) return \"Please enter your birthday.\";\n\n    // Department and program validation only for students\n    if (userType === \"student\") {\n      if (!form.department) return \"Please select a department.\";\n      if (!form.program) return \"Please select a program.\";\n    }\n    if (!form.username.trim()) return \"Please enter a username.\";\n    if (form.username.length < 3) return \"Username must be at least 3 characters.\";\n    if (form.password.length < 8) return \"Password must be at least 8 characters.\";\n    if (form.password !== form.confirm) return \"Passwords do not match.\";\n    if (!form.accept) return \"Please accept the terms to continue.\";\n    return \"\";\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const msg = validate();\n    if (msg) return setError(msg);\n\n    // Prepare data to send to backend\n    const payload = {\n      firstName: form.firstName.trim(),\n      lastName: form.lastName.trim(),\n      email: form.email.trim(),\n      username: form.username.trim(),\n      password: form.password,\n      role: userType,\n      // \"student\" or \"admin\"\n      studentData: userType === \"student\" ? {\n        phone: form.phone,\n        birthday: form.birthday,\n        department: form.department,\n        program: form.program\n      } : null\n    };\n    try {\n      const res = await axios.post(\"http://localhost:3001/api/auth/register\", payload);\n      console.log(\"Registration success:\", res.data);\n\n      // Store JWT token if backend returns it\n      if (res.data.token) {\n        localStorage.setItem(\"token\", res.data.token);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(err);\n      if ((_err$response = err.response) !== null && _err$response !== void 0 && (_err$response$data = _err$response.data) !== null && _err$response$data !== void 0 && _err$response$data.message) {\n        setError(err.response.data.message);\n      } else {\n        setError(\"Something went wrong. Please try again.\");\n      }\n    }\n  }\n\n  // Format phone number as user types\n  function formatPhoneNumber(value) {\n    const numbers = value.replace(/\\D/g, '');\n    if (numbers.length <= 3) return numbers;\n    if (numbers.length <= 6) return `(${numbers.slice(0, 3)}) ${numbers.slice(3)}`;\n    return `(${numbers.slice(0, 3)}) ${numbers.slice(3, 6)}-${numbers.slice(6, 10)}`;\n  }\n  function handlePhoneChange(e) {\n    const formatted = formatPhoneNumber(e.target.value);\n    setForm(prev => ({\n      ...prev,\n      phone: formatted\n    }));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signup-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signup-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-form-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signup-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"signup-subtitle\",\n            children: \"Create your account to access the platform\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-type-radio\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: `radio-label ${userType === 'student' ? 'active' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"userType\",\n                value: \"student\",\n                checked: userType === 'student',\n                onChange: () => handleUserTypeChange('student')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"radio-icon\",\n                children: \"\\uD83D\\uDC68\\u200D\\uD83C\\uDF93\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this), \" Student\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: `radio-label ${userType === 'admin' ? 'active' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"userType\",\n                value: \"admin\",\n                checked: userType === 'admin',\n                onChange: () => handleUserTypeChange('admin')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"radio-icon\",\n                children: \"\\uD83D\\uDC69\\u200D\\uD83D\\uDCBC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this), \" Admin\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"signup-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"First Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"firstName\",\n                  value: form.firstName,\n                  onChange: handleChange,\n                  placeholder: \"John\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Last Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"lastName\",\n                  value: form.lastName,\n                  onChange: handleChange,\n                  placeholder: \"Doe\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                value: form.email,\n                onChange: handleChange,\n                placeholder: \"you@example.com\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), userType === \"student\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Phone Number *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"tel\",\n                  name: \"phone\",\n                  value: form.phone,\n                  onChange: handlePhoneChange,\n                  placeholder: \"(123) 456-7890\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Birthday *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"birthday\",\n                  value: form.birthday,\n                  onChange: handleChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Department *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"department\",\n                    value: form.department,\n                    onChange: handleChange,\n                    required: true,\n                    children: /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"SD\",\n                      children: \"Software Development\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Program *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"program\",\n                    value: form.program,\n                    onChange: handleChange,\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select Program\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 25\n                    }, this), programOptions.map(program => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: program,\n                      children: program\n                    }, program, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 27\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Username *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"username\",\n                value: form.username,\n                onChange: handleChange,\n                placeholder: \"johndoe\",\n                required: true,\n                minLength: 3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Password *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"password-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: showPwd ? \"text\" : \"password\",\n                  name: \"password\",\n                  value: form.password,\n                  onChange: handleChange,\n                  placeholder: \"At least 8 characters\",\n                  required: true,\n                  minLength: 8\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setShowPwd(s => !s),\n                  className: \"toggle-password\",\n                  children: showPwd ? \"Hide\" : \"Show\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"password-strength\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"strength-bar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `strength-fill ${strengthClass(pwdScore)}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"strength-label\",\n                  children: [\"Strength: \", strengthLabel(pwdScore)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Confirm Password *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"password-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: showConfirm ? \"text\" : \"password\",\n                  name: \"confirm\",\n                  value: form.confirm,\n                  onChange: handleChange,\n                  placeholder: \"Re-enter your password\",\n                  required: true,\n                  minLength: 8\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setShowConfirm(s => !s),\n                  className: \"toggle-password\",\n                  children: showConfirm ? \"Hide\" : \"Show\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"terms-label\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                name: \"accept\",\n                checked: form.accept,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this), \"I agree to the terms and privacy policy.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"signup-btn\",\n              children: [\"Create \", userType === \"admin\" ? \"Admin\" : \"Student\", \" Account\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"login-link\",\n              children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/Home/login\",\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"demo-note\",\n            children: \"* All fields are required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n}\n_s(Signup, \"yezJ29JWzAu9o1MG3D5A77pA5nQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useMemo","useState","Link","useNavigate","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","strengthLabel","score","strengthClass","Signup","onSignup","_s","navigate","userType","setUserType","form","setForm","firstName","lastName","email","phone","birthday","department","program","username","password","confirm","accept","showPwd","setShowPwd","showConfirm","setShowConfirm","error","setError","pwdScore","s","length","test","programOptions","handleChange","e","name","value","type","checked","target","prev","handleUserTypeChange","validate","trim","replace","handleSubmit","preventDefault","msg","payload","role","studentData","res","post","console","log","data","token","localStorage","setItem","err","_err$response","_err$response$data","response","message","formatPhoneNumber","numbers","slice","handlePhoneChange","formatted","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onSubmit","placeholder","required","map","minLength","onClick","to","_c","$RefreshReg$"],"sources":["C:/Projects/BowCourseRegistration/my-app/src/components/Login-Signup-component/Signup.jsx"],"sourcesContent":["// src/pages/Signup.jsx\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport \"./Signup.css\";\r\nimport axios from \"axios\"\r\n\r\nfunction strengthLabel(score) {\r\n  if (score >= 4) return \"Strong\";\r\n  if (score === 3) return \"Good\";\r\n  if (score === 2) return \"Weak\";\r\n  return \"Very weak\";\r\n}\r\n\r\nfunction strengthClass(score) {\r\n  if (score >= 4) return \"strong\";\r\n  if (score === 3) return \"good\";\r\n  if (score === 2) return \"weak\";\r\n  return \"very-weak\";\r\n}\r\n\r\nexport default function Signup({ onSignup }) {\r\n  const navigate = useNavigate();\r\n  const [userType, setUserType] = useState(\"student\"); // \"student\" or \"admin\"\r\n  \r\n  const [form, setForm] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    birthday: \"\",\r\n    department: \"SD\",\r\n    program: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    confirm: \"\",\r\n    accept: false,\r\n  });\r\n  const [showPwd, setShowPwd] = useState(false);\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const pwdScore = useMemo(() => {\r\n    let s = 0;\r\n    if (form.password.length >= 8) s++;\r\n    if (/[A-Z]/.test(form.password)) s++;\r\n    if (/[a-z]/.test(form.password)) s++;\r\n    if (/\\d/.test(form.password)) s++;\r\n    if (/[^A-Za-z0-9]/.test(form.password)) s++;\r\n    return s;\r\n  }, [form.password]);\r\n\r\n  // Program options based on SD department\r\n  const programOptions = [\r\n    \"Software Development\",\r\n    \"Web Development\", \r\n    \"Mobile Development\",\r\n    \"Data Science\",\r\n    \"Cloud Computing\",\r\n    \"Cyber Security\"\r\n  ];\r\n\r\n  function handleChange(e) {\r\n    const { name, value, type, checked } = e.target;\r\n    setForm(prev => ({ \r\n      ...prev, \r\n      [name]: type === \"checkbox\" ? checked : value \r\n    }));\r\n  }\r\n\r\n  function handleUserTypeChange(type) {\r\n    setUserType(type);\r\n    // Reset form when switching between student and admin\r\n\r\n    setForm({\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      birthday: \"\",\r\n      department: \"SD\",\r\n      program: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      confirm: \"\",\r\n      accept: false,\r\n    });\r\n    setError(\"\");\r\n  }\r\n\r\n  function validate() {\r\n    if (!form.firstName.trim()) return \"Please enter your first name.\";\r\n    if (!form.lastName.trim()) return \"Please enter your last name.\";\r\n    if (!/^\\S+@\\S+\\.\\S+$/.test(form.email)) return \"Please enter a valid email.\";\r\n    \r\n    // Phone validation only for students\r\n    if (userType === \"student\" && !/^\\d{10}$/.test(form.phone.replace(/\\D/g, ''))) {\r\n      return \"Please enter a valid 10-digit phone number.\";\r\n    }\r\n    \r\n    // Birthday validation only for students\r\n    if (userType === \"student\" && !form.birthday) return \"Please enter your birthday.\";\r\n    \r\n    // Department and program validation only for students\r\n    if (userType === \"student\") {\r\n      if (!form.department) return \"Please select a department.\";\r\n      if (!form.program) return \"Please select a program.\";\r\n    }\r\n    \r\n    if (!form.username.trim()) return \"Please enter a username.\";\r\n    if (form.username.length < 3) return \"Username must be at least 3 characters.\";\r\n    if (form.password.length < 8) return \"Password must be at least 8 characters.\";\r\n    if (form.password !== form.confirm) return \"Passwords do not match.\";\r\n    if (!form.accept) return \"Please accept the terms to continue.\";\r\n    return \"\";\r\n  }\r\n\r\n async function handleSubmit(e) {\r\n  e.preventDefault();\r\n  const msg = validate();\r\n  if (msg) return setError(msg);\r\n\r\n  // Prepare data to send to backend\r\n  const payload = {\r\n    firstName: form.firstName.trim(),\r\n    lastName: form.lastName.trim(),\r\n    email: form.email.trim(),\r\n    username: form.username.trim(),\r\n    password: form.password,\r\n    role: userType,  // \"student\" or \"admin\"\r\n    studentData: userType === \"student\" ? {\r\n      phone: form.phone,\r\n      birthday: form.birthday,\r\n      department: form.department,\r\n      program: form.program,\r\n    } : null\r\n  };\r\n\r\n  try {\r\n    const res = await axios.post(\r\n      \"http://localhost:3001/api/auth/register\",\r\n      payload\r\n    );\r\n\r\n    console.log(\"Registration success:\", res.data);\r\n\r\n    // Store JWT token if backend returns it\r\n    if (res.data.token) {\r\n      localStorage.setItem(\"token\", res.data.token);\r\n    }\r\n\r\n\r\n  } catch (err) {\r\n    console.error(err);\r\n\r\n    if (err.response?.data?.message) {\r\n      setError(err.response.data.message);\r\n    } else {\r\n      setError(\"Something went wrong. Please try again.\");\r\n    }\r\n  }\r\n}\r\n\r\n\r\n  // Format phone number as user types\r\n  function formatPhoneNumber(value) {\r\n    const numbers = value.replace(/\\D/g, '');\r\n    if (numbers.length <= 3) return numbers;\r\n    if (numbers.length <= 6) return `(${numbers.slice(0, 3)}) ${numbers.slice(3)}`;\r\n    return `(${numbers.slice(0, 3)}) ${numbers.slice(3, 6)}-${numbers.slice(6, 10)}`;\r\n  }\r\n\r\n  function handlePhoneChange(e) {\r\n    const formatted = formatPhoneNumber(e.target.value);\r\n    setForm(prev => ({ ...prev, phone: formatted }));\r\n  }\r\n\r\n  return (\r\n    <div className=\"signup-container\">\r\n      <div className=\"signup-wrapper\">\r\n        <div className=\"signup-form-wrapper\">\r\n          <div className=\"signup-card\">\r\n            <h2>Sign up</h2>\r\n            <p className=\"signup-subtitle\">\r\n              Create your account to access the platform\r\n            </p>\r\n\r\n            {/* User Type Toggle Buttons */}\r\n            <div className=\"user-type-radio\">\r\n                <label className={`radio-label ${userType === 'student' ? 'active' : ''}`}>\r\n                    <input\r\n                    type=\"radio\"\r\n                    name=\"userType\"\r\n                    value=\"student\"\r\n                    checked={userType === 'student'}\r\n                    onChange={() => handleUserTypeChange('student')}\r\n                    />\r\n                    <span className=\"radio-icon\">üë®‚Äçüéì</span> Student\r\n                </label>\r\n\r\n                <label className={`radio-label ${userType === 'admin' ? 'active' : ''}`}>\r\n                    <input\r\n                    type=\"radio\"\r\n                    name=\"userType\"\r\n                    value=\"admin\"\r\n                    checked={userType === 'admin'}\r\n                    onChange={() => handleUserTypeChange('admin')}\r\n                    />\r\n                    <span className=\"radio-icon\">üë©‚Äçüíº</span> Admin\r\n                </label>\r\n                </div>\r\n\r\n\r\n            {error && <div className=\"error-message\">{error}</div>}\r\n\r\n            <form onSubmit={handleSubmit} className=\"signup-form\">\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label>First Name *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"firstName\"\r\n                    value={form.firstName}\r\n                    onChange={handleChange}\r\n                    placeholder=\"John\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label>Last Name *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"lastName\"\r\n                    value={form.lastName}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Doe\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Email *</label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={form.email}\r\n                  onChange={handleChange}\r\n                  placeholder=\"you@example.com\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {/* Student-specific fields */}\r\n              {userType === \"student\" && (\r\n                <>\r\n                  <div className=\"form-group\">\r\n                    <label>Phone Number *</label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      name=\"phone\"\r\n                      value={form.phone}\r\n                      onChange={handlePhoneChange}\r\n                      placeholder=\"(123) 456-7890\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label>Birthday *</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      name=\"birthday\"\r\n                      value={form.birthday}\r\n                      onChange={handleChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                      <label>Department *</label>\r\n                      <select\r\n                        name=\"department\"\r\n                        value={form.department}\r\n                        onChange={handleChange}\r\n                        required\r\n                      >\r\n                        <option value=\"SD\">Software Development</option>\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Program *</label>\r\n                      <select\r\n                        name=\"program\"\r\n                        value={form.program}\r\n                        onChange={handleChange}\r\n                        required\r\n                      >\r\n                        <option value=\"\">Select Program</option>\r\n                        {programOptions.map(program => (\r\n                          <option key={program} value={program}>\r\n                            {program}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div className=\"form-group\">\r\n                <label>Username *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={form.username}\r\n                  onChange={handleChange}\r\n                  placeholder=\"johndoe\"\r\n                  required\r\n                  minLength={3}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Password *</label>\r\n                <div className=\"password-field\">\r\n                  <input\r\n                    type={showPwd ? \"text\" : \"password\"}\r\n                    name=\"password\"\r\n                    value={form.password}\r\n                    onChange={handleChange}\r\n                    placeholder=\"At least 8 characters\"\r\n                    required\r\n                    minLength={8}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPwd(s => !s)}\r\n                    className=\"toggle-password\"\r\n                  >\r\n                    {showPwd ? \"Hide\" : \"Show\"}\r\n                  </button>\r\n                </div>\r\n                <div className=\"password-strength\">\r\n                  <div className=\"strength-bar\">\r\n                    <div \r\n                      className={`strength-fill ${strengthClass(pwdScore)}`}\r\n                    />\r\n                  </div>\r\n                  <p className=\"strength-label\">\r\n                    Strength: {strengthLabel(pwdScore)}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Confirm Password *</label>\r\n                <div className=\"password-field\">\r\n                  <input\r\n                    type={showConfirm ? \"text\" : \"password\"}\r\n                    name=\"confirm\"\r\n                    value={form.confirm}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Re-enter your password\"\r\n                    required\r\n                    minLength={8}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowConfirm(s => !s)}\r\n                    className=\"toggle-password\"\r\n                  >\r\n                    {showConfirm ? \"Hide\" : \"Show\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <label className=\"terms-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"accept\"\r\n                  checked={form.accept}\r\n                  onChange={handleChange}\r\n                />\r\n                I agree to the terms and privacy policy.\r\n              </label>\r\n\r\n              <button type=\"submit\" className=\"signup-btn\">\r\n                Create {userType === \"admin\" ? \"Admin\" : \"Student\"} Account\r\n              </button>\r\n\r\n              <p className=\"login-link\">\r\n                Already have an account?{\" \"}\r\n                <Link to=\"/Home/login\">Sign in</Link>\r\n              </p>\r\n            </form>\r\n\r\n            <p className=\"demo-note\">\r\n              * All fields are required\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}